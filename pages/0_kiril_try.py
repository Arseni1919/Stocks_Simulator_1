from indicator_functions import *
from st_plot_functions import *
from st_functions import *
from functions import *


# ------------------------------------------------------------------------------------------------------------ #
# ------------------------------------------------------------------------------------------------------------ #
# ------------------------------------------------------------------------------------------------------------ #
# ST
# ------------------------------------------------------------------------------------------------------------ #
# ------------------------------------------------------------------------------------------------------------ #
# ------------------------------------------------------------------------------------------------------------ #


# ------------------------------------ #
# ------------------------------------ #
# ------------------------------------ #
# Main
# ------------------------------------ #
# ------------------------------------ #
# ------------------------------------ #

st.write(f'# Looking at one day')

st.write('## Data')

data = load_big_json()
dates_list = list(data.keys())
dates_list.sort(key=lambda date: datetime.datetime.strptime(date, "%Y-%m-%d"))

if len(data) > 0:
    st.success(f'Data is loaded.')

# ------------------------------------ #
# ------------------------------------ #
# ------------------------------------ #

'''
## View specific day prices:
'''

selected_date = st.select_slider("Date:", options=dates_list, value=dates_list[0])
g_assets_2 = st.radio("Group of assets 2:", list(g_dict.keys()), index=1, horizontal=True)
g_list_1 = g_dict[g_assets_2]
selected_assets = st.multiselect('Select assets:', assets_names_list, g_list_1)
plot_prices_one_day(data=data, selected_assets=selected_assets, selected_date=selected_date)


# ------------------------------------------------------------------------------------------------------------ #
# ------------------------------------------------------------------------------------------------------------ #
# ------------------------------------------------------------------------------------------------------------ #
# END
# ------------------------------------------------------------------------------------------------------------ #
# ------------------------------------------------------------------------------------------------------------ #
# ------------------------------------------------------------------------------------------------------------ #

